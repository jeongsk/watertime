# WaterTime - Product Requirements Document (PRD)

**버전**: 1.0
**작성일**: 2026-02-15
**작성자**: 자비스 (AI Assistant)

---

## 1. 제품 개요

### 1.1 비전

"모든 사람이 올바른 수분 섭취 습관을 통해 더 건강한 삶을 살 수 있도록"

### 1.2 미션

과학적 데이터와 AI를 활용하여 개인에게 최적화된 수분 관리 솔루션 제공

### 1.3 핵심 가치 제안 (USP)

1. **개인화된 수분 섭취량**: 체중, 키, 활동량 기반 정확한 계산
2. **스마트 알림**: 날씨, 활동, 시간대 고려 맞춤 알림
3. **건강 데이터 연동**: Apple Health, Google Fit 연동
4. **간편한 기록**: 위젯, 음성, 워치로 1초 기록

---

## 2. 타겟 사용자

### 2.1 주요 페르소나

**Persona 1: 직장인 김민수 (32세)**
- IT 기업 재직, 하루 10시간 앉아서 근무
- 커피만 마시고 물 거의 안 마심
- 피부 건조, 두통 잦음
- 건강 염원하지만 바빠서 챙기기 어려움

**Persona 2: 대학생 이수진 (23세)**
- 운동 좋아함 (주 3회 헬스장)
- 수분 섭취 중요성은 알지만 자주 깜빡함
- 다이어트 관심 많음
- 앱 사용에 익숙함

**Persona 3: 주부 박영희 (45세)**
- 가사 및 육아로 바쁨
- 가족 건강 챙기느라 자신 소홀
- 피로감, 부기 잦음
- 건강 관리 필요성 느낌

### 2.2 사용자 니즈

| 니즈 | 중요도 | 현재 해결책 | WaterTime의 솔루션 |
|------|--------|-------------|-------------------|
| 수분 섭취량 확인 | 높음 | 수동 계산 | 자동 계산 |
| 마실 타이밍 알림 | 높음 | 깜빡함 | 스마트 알림 |
| 꾸준함 유지 | 중간 | 의지력 | 게이미피케이션 |
| 건강 효과 확인 | 중간 | 체감만 | 데이터 시각화 |

---

## 3. 기능 요구사항

### 3.1 MVP 기능 (Phase 1, 0-3개월)

#### F1: 기본 알림 시스템
**우선순위**: P0 (필수)
**설명**: 사용자가 설정한 간격으로 물 마시기 알림

**세부 기능**:
- [ ] 기본 간격 설정 (30분, 1시간, 2시간, 3시간)
- [ ] 알림 on/off 토글
- [ ] 알림음 선택 (3가지 기본음)
- [ ] 방해금지 시간 설정 (예: 22:00-07:00)
- [ ] 알림 히스토리 (최근 50개)

**인수 기준**:
- 사용자가 설정한 간격으로 로컬 알림 발송
- 방해금지 시간에는 알림 없음
- 앱이 꺼져있어도 알림 동작

#### F2: 물 섭취 기록
**우선순위**: P0 (필수)
**설명**: 1탭으로 빠른 기록

**세부 기능**:
- [ ] 기본 용량 선택 (200ml, 300ml, 500ml)
- [ ] 커스텀 용량 입력
- [ ] 빠른 기록 버튼 (홈 화면 위젯)
- [ ] 기록 취소 (5초 내)
- [ ] 타임스탬프 자동 저장

**인수 기준**:
- 기록에 1초 이내 응답
- 오프라인에서도 기록 가능
- 서버 동기화 (온라인 시)

#### F3: 일일 통계
**우선순위**: P1 (중요)
**설명**: 오늘 마신 물 양 시각화

**세부 기능**:
- [ ] 원형 프로그레스 바 (목표 대비 달성률)
- [ ] 현재 섭취량 / 목표량 텍스트
- [ ] 남은 물 양 표시
- [ ] 달성 시 축하 애니메이션
- [ ] 리셋 시간 (매일 00:00)

**인수 기준**:
- 실시간 업데이트
- 애니메이션 부드러움 (60fps)
- 직관적인 시각화

#### F4: 기본 설정
**우선순위**: P1 (중요)
**설명**: 사용자 맞춤 설정

**세부 기능**:
- [ ] 일일 목표 설정 (1L ~ 4L)
- [ ] 체중/키 입력 (선택사항)
- [ ] 활동 수준 선택 (낮음/보통/높음)
- [ ] 언어 설정 (한국어, 영어)
- [ ] 테마 선택 (라이트/다크)

**인수 기준**:
- 설정 즉시 반영
- 데이터 로컬 저장

### 3.2 고도화 기능 (Phase 2, 4-6개월)

#### F5: 스마트 알림 엔진
**우선순위**: P1 (중요)
**설명**: AI 기반 맞춤 알림

**세부 기능**:
- [ ] 활동량 기반 알림 조절 (HealthKit 연동)
- [ ] 날씨 기반 알림 (온도 30도 이상 시 알림 증가)
- [ ] 사용자 패턴 학습 (자주 마시는 시간대 파악)
- [ ] "지금 2시간째 물 안 마셨어요" 메시지
- [ ] 운동 후 30분 알림

**인수 기준**:
- 센서 데이터 활용 (걸음 수)
- 날씨 API 연동 (OpenWeatherMap)
- 1주 이상 데이터로 패턴 학습

#### F6: 건강 인사이트
**우선순위**: P2 (보통)
**설명**: 수분 섭취 패턴 분석

**세부 기능**:
- [ ] 주간/월간 트렌드 차트
- [ ] "이번 주 지난주보다 15% 증가"
- [ ] 최고/최저 섭취일 분석
- [ ] 목표 달성률 통계
- [ ] PDF 리포트 내보내기

**인수 기준**:
- Chart.js 또는 D3.js 사용
- 데이터 시각화 명확성

#### F7: 위젯 지원
**우선순위**: P2 (보통)
**설명**: 홈 화면 위젯

**세부 기능**:
- [ ] iOS 위젯 (small, medium, large)
- [ ] 안드로이드 위젯 (2x2, 4x2)
- [ ] 빠른 기록 버튼
- [ ] 현재 달성률 표시
- [ ] 위젯 테마 커스터마이징

**인수 기준**:
- 위젯에서 바로 기록 가능
- 배터리 소모 최소화

### 3.3 확장 기능 (Phase 3, 7-12개월)

#### F8: 웨어러블 연동
**우선순위**: P2 (보통)
**설명**: Apple Watch, Galaxy Watch

**세부 기능**:
- [ ] 워치 앱 개발
- [ ] 손목 알림
- [ ] 음성 기록 ("워터타임, 물 마셨어")
- [ ] 워치 컴플리케이션

#### F9: 소셜 기능
**우선순위**: P3 (낮음)
**설명**: 친구와 함께

**세부 기능**:
- [ ] 친구 추가
- [ ] 주간 랭킹
- [ ] 챌린지 모드 (7일 연속 달성)
- [ ] 뱃지 시스템

---

## 4. 비기능 요구사항

### 4.1 성능

- **앱 실행 시간**: 2초 이내
- **기록 응답 시간**: 1초 이내
- **메모리 사용량**: 100MB 이하
- **배터리 소모**: 일일 2% 이하
- **앱 크기**: 50MB 이하

### 4.2 보안

- **데이터 암호화**: AES-256
- **HTTPS 통신**: 모든 API 통신
- **개인정보 보호**: GDPR, 개인정보보호법 준수
- **인증**: OAuth 2.0 (소셜 로그인)

### 4.3 신뢰성

- **가용성**: 99.5%
- **데이터 백업**: 일일 자동 백업
- **오프라인 지원**: 기본 기능 오프라인 동작
- **에러 복구**: 자동 재시도 메커니즘

### 4.4 사용성

- **학습 곡선**: 5분 이내 사용 가능
- **접근성**: WCAG 2.1 AA 준수
- **다국어**: 한국어, 영어, 일본어, 중국어
- **디자인 일관성**: Material Design, Human Interface Guidelines

---

## 5. 사용자 플로우

### 5.1 온보딩 플로우

```
시작 → 스플래시 → 회원가입/로그인 → 
프로필 설정 (체중, 키, 활동량) → 
일일 목표 자동 계산 → 알림 설정 → 
완료 → 홈 화면
```

### 5.2 일일 사용 플로우

```
알림 수신 → 앱 열기 → 물 마시기 기록 → 
홈 화면 확인 (프로그레스) → 닫기
```

### 5.3 설정 변경 플로우

```
설정 탭 → 목표 변경 → 슬라이더 조절 → 저장
```

---

## 6. 데이터 모델

### 6.1 사용자 (User)

```json
{
  "userId": "string (UUID)",
  "email": "string",
  "name": "string",
  "weight": "number (kg)",
  "height": "number (cm)",
  "age": "number",
  "activityLevel": "enum (low, medium, high)",
  "dailyGoal": "number (ml)",
  "timezone": "string",
  "createdAt": "timestamp",
  "updatedAt": "timestamp"
}
```

### 6.2 섭취 기록 (IntakeRecord)

```json
{
  "recordId": "string (UUID)",
  "userId": "string (foreign key)",
  "amount": "number (ml)",
  "timestamp": "datetime",
  "source": "enum (manual, voice, widget)",
  "note": "string (optional)"
}
```

### 6.3 알림 설정 (NotificationSettings)

```json
{
  "userId": "string (foreign key)",
  "enabled": "boolean",
  "interval": "number (minutes)",
  "startTime": "time (HH:mm)",
  "endTime": "time (HH:mm)",
  "sound": "string",
  "vibration": "boolean"
}
```

---

## 7. API 명세

### 7.1 인증 API

#### POST /api/v1/auth/register
회원가입

**Request**:
```json
{
  "email": "user@example.com",
  "password": "securepassword123",
  "name": "김철수"
}
```

**Response**:
```json
{
  "success": true,
  "userId": "uuid-here",
  "token": "jwt-token"
}
```

#### POST /api/v1/auth/login
로그인

#### POST /api/v1/auth/social
소셜 로그인 (Google, Apple, Kakao)

### 7.2 사용자 API

#### GET /api/v1/users/me
내 정보 조회

#### PUT /api/v1/users/me
내 정보 수정

### 7.3 섭취 기록 API

#### POST /api/v1/intake
물 섭취 기록

**Request**:
```json
{
  "amount": 300,
  "source": "manual",
  "note": "아침에 마심"
}
```

#### GET /api/v1/intake/today
오늘 기록 조회

#### GET /api/v1/intake/history
히스토리 조회 (페이지네이션)

### 7.4 통계 API

#### GET /api/v1/stats/daily
일일 통계

#### GET /api/v1/stats/weekly
주간 통계

#### GET /api/v1/stats/monthly
월간 통계

---

## 8. 성공 지표 (KPI)

### 8.1 사용자 참여

| 지표 | 목표 (3개월) | 목표 (6개월) | 목표 (1년) |
|------|-------------|-------------|-----------|
| DAU | 1,000 | 5,000 | 20,000 |
| MAU | 5,000 | 20,000 | 100,000 |
| 평균 세션 시간 | 2분 | 3분 | 4분 |
| 7일 리텐션 | 30% | 40% | 50% |
| 30일 리텐션 | 15% | 25% | 35% |

### 8.2 비즈니스

| 지표 | 목표 (3개월) | 목표 (6개월) | 목표 (1년) |
|------|-------------|-------------|-----------|
| 유료 전환율 | 3% | 5% | 8% |
| ARPU (월) | ₩500 | ₩1,000 | ₩2,000 |
| 월 매출 | ₩150만 | ₩1,000만 | ₩5,000만 |
| NPS 점수 | 40 | 50 | 60 |

### 8.3 제품

| 지표 | 목표 (3개월) | 목표 (6개월) | 목표 (1년) |
|------|-------------|-------------|-----------|
| 일일 목표 달성률 | 40% | 50% | 60% |
| 평균 기록 횟수/일 | 3회 | 5회 | 7회 |
| 앱 스토어 평점 | 4.0 | 4.3 | 4.5 |
| 크래시율 | < 2% | < 1% | < 0.5% |

---

## 9. 리스크 및 대응 방안

### 9.1 기술적 리스크

| 리스크 | 확률 | 영향 | 대응 방안 |
|--------|------|------|----------|
| 배터리 소모 과다 | 중간 | 높음 | 백그라운드 작업 최적화 |
| 알림 미작동 | 낮음 | 높음 | FCM/APNS 이중화 |
| 데이터 동기화 실패 | 중간 | 중간 | 로컬 캐시 + 재시도 |

### 9.2 비즈니스 리스크

| 리스크 | 확률 | 영향 | 대응 방안 |
|--------|------|------|----------|
| 낮은 유료 전환율 | 높음 | 높음 | 프리미엄 기능 강화 |
| 경쟁 앱 진입 | 높음 | 중간 | 차별화 기능 지속 개발 |
| 마케팅 비용 초과 | 중간 | 중간 | 유기적 성장 전략 병행 |

---

## 10. 타임라인

### Phase 1: MVP (0-3개월)

**Week 1-2: 기획 및 디자인**
- [ ] 디자인 시스템 구축
- [ ] 와이어프레임 제작
- [ ] 프로토타입 테스트

**Week 3-6: 개발 (기본 기능)**
- [ ] React Native 프로젝트 셋업
- [ ] 로컬 DB 구현 (SQLite)
- [ ] 기본 알림 시스템
- [ ] 물 섭취 기록 UI
- [ ] 일일 통계 화면

**Week 7-10: 개발 (추가 기능)**
- [ ] 회원가입/로그인
- [ ] 백엔드 API 개발
- [ ] 데이터 동기화
- [ ] 설정 화면

**Week 11-12: 테스트 및 런칭**
- [ ] 베타 테스트 (100명)
- [ ] 버그 수정
- [ ] 앱스토어 제출
- [ ] 런칭

### Phase 2: 고도화 (4-6개월)

**Month 4-5**:
- [ ] 스마트 알림 엔진
- [ ] HealthKit/Google Fit 연동
- [ ] 위젯 개발

**Month 6**:
- [ ] 건강 인사이트
- [ ] 프리미엄 기능
- [ ] 마케팅 캠페인

### Phase 3: 확장 (7-12개월)

**Month 7-9**:
- [ ] 웨어러블 앱
- [ ] 소셜 기능

**Month 10-12**:
- [ ] B2B 기능
- [ ] 글로벌 확장 (다국어)

---

## 11. 승인 및 변경 이력

| 버전 | 일자 | 작성자 | 변경 내용 | 승인자 |
|------|------|--------|----------|--------|
| 1.0 | 2026-02-15 | 자비스 | 초기 작성 | - |

---

**다음 단계**: UI/UX 스펙 작성 → 디자인 시스템 구축
